\documentclass[main.tex]{subfiles}


\begin{document}
 \section{Perception}
 Create a new Workspace or open the workspace where you want to install the perception part. Now run the following commands to download dependencies into your workspace.
 
 \begin{lstlisting}
cd src
git clone %*\url{https://github.com/SUTURO/suturo_perception.git}*)
git clone %*\url{https://github.com/SUTURO/suturo_resources.git}*) 
git clone %*\url{https://github.com/evankapi/rs_hsrb_perception.git}*) -\b suturo20
git clone %*\url{https://github.com/RoboSherlock/robosherlock.git}*) --\recursive
git clone %*\url{https://github.com/RoboSherlock/rs_resources.git}*)
git clone %*\url{https://github.com/Jastock/rs_addons.git}*)
rosdep install --from-path . --ignore-src -r 
\end{lstlisting}
 
 Then install the rs\_addons dependencies by running the following commands.
 \begin{lstlisting}
sudo add-apt-repository ppa:robosherlock/ppa
sudo apt-get update
sudo apt-get install rapidjson 
\end{lstlisting}
 
 Now install Caffe using the following commands.
 \begin{lstlisting}
sudo apt-get update
sudo apt-get install libprotobuf-dev libleveldb-dev libsnappy-\dev libopencv-dev libhdf5-serial-dev protobuf-compiler
sudo apt-get install --no-install-recommends libboost-all-dev
sudo apt-get install libgflags-dev
sudo apt-get install libgoogle-glog-dev
sudo apt-get install libopenblas-dev
sudo apt-get install liblmdb-dev
cd 
git clone %*\url{https://github.com/BVLC/caffe.git}*)
\end{lstlisting}
 
 For GPU acceleration install cude, a graphics card driver update may be necessary.
 
 Make following changes to the Caffe directory : 
 \begin{itemize}
 \item Copy the Makefile.config.example with "cp Makefile.config.example Makefile.config"
 \item Make the following changes on the Makefile.config :
 	\begin{itemize}
 	\item If cude is not installed uncomment CPU\_ONLY := 1 to enable building for CPU only
 	\item Change "BLAS := atlas" to "BLAS := open"
 	\item If any hdf5 related erros appear in the next step, add "/usr/lib/x86\_64-linux-gnu/hdf5/serial" to LIBRARY\_DIRS and "/usr/include/hdf5/serial/" to INCLUDE\_DIRS
 	\item Save and exit
 	\end{itemize}
 	
 \end{itemize}
Now you need to build caffe using the following commands.
\begin{lstlisting}
make all
make test
make runtest  
\end{lstlisting}

 
\end{document}
